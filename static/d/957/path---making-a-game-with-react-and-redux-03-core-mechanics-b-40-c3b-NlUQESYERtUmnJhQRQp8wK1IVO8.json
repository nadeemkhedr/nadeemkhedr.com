{"data":{"site":{"siteMetadata":{"title":"Gatsby Starter Blog","author":"Kyle Mathews"}},"markdownRemark":{"id":"3c54f428-e63e-5596-8275-f0996dba01f3","excerpt":"In this series, I am creating a typing game with React and Redux. Including setting up a backlog, CI, and Testing.\nYou can find the project  here This post is…","html":"<p>In this series, I am creating a typing game with React and Redux. Including setting up a backlog, CI, and Testing.\nYou can find the project <a href=\"https://github.com/nadeemkhedr/typemania\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a></p>\n<p>This post is part of the <strong><em>“Making a game with React and Redux”</em></strong> series</p>\n<ol>\n<li><a href=\"http://nadeemkhedr.com/making-a-game-with-react-and-redux-getting-started/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Getting Started</a></li>\n<li><a href=\"http://nadeemkhedr.com/making-a-game-with-react-and-redux-02-plan-define-build-process/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Plan, Define, Build Process</a></li>\n<li><strong>Core Mechanics</strong> &#x3C;-</li>\n</ol>\n<hr>\n<h3>Agenda</h3>\n<ul>\n<li>\n<p>Create core reducers</p>\n<ul>\n<li>Words (<a href=\"https://github.com/nadeemkhedr/typemania/issues/1\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Issue</a>/<a href=\"https://github.com/nadeemkhedr/typemania/pull/5\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pull Request</a>)</li>\n<li>Blocks (<a href=\"https://github.com/nadeemkhedr/typemania/issues/2\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Issue</a>/<a href=\"https://github.com/nadeemkhedr/typemania/pull/6\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pull Request</a>)</li>\n<li>Input (<a href=\"https://github.com/nadeemkhedr/typemania/issues/3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Issue</a>/<a href=\"https://github.com/nadeemkhedr/typemania/pull/9\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pull Request</a>)</li>\n</ul>\n</li>\n<li>Create Basic UI Components (<a href=\"https://github.com/nadeemkhedr/typemania/issues/4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Issue</a>/<a href=\"https://github.com/nadeemkhedr/typemania/pull/10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Pull Request</a>)</li>\n</ul>\n<h3>Plan</h3>\n<p>My plan of attack is to create a basic version of the game without any words/blocks generation. To achieve that, first I will create detailed issues (stated above) for what exactly I want to get done</p>\n<p>There will be three elements in the game at this point</p>\n<ul>\n<li>Blocks (a block contains multiple words)</li>\n<li>Words (can only be found inside a block)</li>\n<li>Input (the input where the player enters text)</li>\n</ul>\n<p>I will implement the following</p>\n<ul>\n<li>When the user enters text, and it matches any word, that word should be removed. If a block is empty it is also removed</li>\n<li>When the user enters text, the sub-matching words should be highlighted</li>\n</ul>\n<h3>Getting to work</h3>\n<p>Equipped with a cup of coffee and with having some free time, I started to work on the first two reducers (words, blocks) it was straight forward.</p>\n<blockquote>\n<p>When creating reducers, one of my goals was to keep the data normalized (read <a href=\"http://redux.js.org/docs/recipes/reducers/NormalizingStateShape.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this article</a> from the redux guide for more about the topic) and to capture as many details in the task itself as possible.</p>\n</blockquote>\n<p>Next task is to implement the inputs reducer. This reducer is a little different, a couple of new concepts are introduced here</p>\n<ul>\n<li>thunks (added via <a href=\"https://github.com/gaearon/redux-thunk\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">redux-thunk</a> package</li>\n<li>Selectors (check this <a href=\"https://egghead.io/lessons/javascript-redux-colocating-selectors-with-reducers\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">video</a> for why we need selectors by Dan Abramov - <em>Dan is the creator of redux</em>)</li>\n</ul>\n<blockquote>\n<p>A thunk allows actions creators to return a function instead of an object, which enables performing logic that determines what actions to dispatch.</p>\n</blockquote>\n<p>We need this ability, because when the user enters some text, we need to not only update the input in the store but also check if the word matches any other to remove them and the empty blocks, if there are any.\nWe also have to reset the input, if any word is matched. We use selectors in this process to get all the matching words and empty blocks.</p>\n<p>After working on the reducers, I realized that I needed to add templates for PR and Issues, for the sake of keeping everything consistent and not repetitive (you can find the templates in this <a href=\"https://github.com/nadeemkhedr/typemania/pull/8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PR</a>)</p>\n<p>Finally, to wire everything together, I need to build the actual UI components (<a href=\"https://github.com/nadeemkhedr/typemania/issues/4\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Issue here</a>).</p>\n<p>The first step is adding <a href=\"https://github.com/ReactTraining/react-router\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-router</a>, We will not use routing yet, we will only setup a default route to our game (this will change in the future)</p>\n<p>In this task, we are creating all the components/containers used for the core game.</p>\n<p>Summary about what is happening in the <a href=\"https://github.com/nadeemkhedr/typemania/pull/10\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">PR</a></p>\n<ul>\n<li>Selectors are used all over the place here for fetching the data</li>\n<li>The <code class=\"language-text\">Word</code> component has logic to highlight the part of a word that matches what is typed</li>\n<li>Add <a href=\"https://github.com/airbnb/enzyme\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">enzyme</a> and <a href=\"https://facebook.github.io/react/docs/test-utils.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">react-addons-test-utils</a> for testing</li>\n<li>Keeping components testing to a minimum, instead testing reducers, selectors, action creators</li>\n<li>pretty bad CSS (will tackle that topic in the next article)</li>\n</ul>\n<p>Now our game looks like this\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/4f0f17feaae59e7cb8d759281c39248a/82616/game.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 304px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 124.3421052631579%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsSAAALEgHS3X78AAAC2klEQVQ4y52U209TQRDGz39mFChIW3o7bSmFlpZeQEREI4oGhFYLYoO0iJASJEb0xeiL8VEgINeEBwXBS6CAUdREvAUwUvo5u+2hIEoPPckvk52d/c7s7OwKeosLhiI3NCYntOYEkk+yctAVlsHuOQ2BD2ihu/IcbK5TsDpPwlTiPZTYPsECys7fHEZnVy+6I3dgd1fzTDMWZNmYbRU8Q2f5GYhWT+YZSgvZtrXmMmh21VBCjngqQwrWM2ehiyNyW8a3rDE5ZB9QKkPmYKKlFdA5K6FznICesHmq4a06L3v7O4JisRdGC7VNox/qUBvULS3QBgIIRfrQ09dPJ17ORY3FhPU/kAYTdVD9BUVBEXIJhcYKhdaasuTLS1o+fwBsPltVyH8shLtug9Fxq3cP3C/ZNHQQIYrt6bsH4cXsPBgzL19hlpiRSPrlM4e5+TcQcihVxtHjRhzJNSQRkaU0I0edmEuL2oKsfBOvo8AKKlq9/ET9gRu4UB9ATe1l3uRisuDpMCUPhV0Kuikuamo3LjW2oD0cQbC9G6GbEVjsFbwVMr56ehKVXhstTf7d0PIbe1cg2+Iekr6MBNViKVSiHSqDHUq9jcPGSoMNBUYHUjtxyXgP6f6erfOhrqEZ9b5WXL4SRIPvOo0DfFxVczHtc7YjyE6J1a/BH0RrWyeaSOwa2WCoG77mNlxtDaO2rokvSHSEZx9cQ7p6+bpiKIkclZl6z8T76Rj1ZFa+EdnUi2ysoD5T6krAYv+FUl+CPE0RvanlEIZGJvB0eByDZAdHJjH0bApDo1MJu8MknzuIgeEJjE5MQ4iuA98AfNkG1ohPv4DVTeDjIWDxbF30ByBMv/2MleUlLESXsBiNIrq8gu14HL+3YtiSCYuNb8fw4XsMwsMnA+gKh3C//y4eP3qA8bExJL44Dvt93YxDGF/cwOvVDcy9X8fsu5/cRtfiWKQayGWBWKJ6PV+N4Q8vlOHc72HMZgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"my image\"\n        title=\"\"\n        src=\"/static/4f0f17feaae59e7cb8d759281c39248a/82616/game.png\"\n        srcset=\"/static/4f0f17feaae59e7cb8d759281c39248a/0b5f6/game.png 148w,\n/static/4f0f17feaae59e7cb8d759281c39248a/d7f86/game.png 295w,\n/static/4f0f17feaae59e7cb8d759281c39248a/82616/game.png 304w\"\n        sizes=\"(max-width: 304px) 100vw, 304px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>","frontmatter":{"title":"Making a game with React and Redux: 03 Core Mechanics","date":"March 05, 2017"}}},"pageContext":{"slug":"making-a-game-with-react-and-redux-03-core-mechanics/","previous":{"fields":{"slug":"making-a-game-with-react-and-redux-02-plan-define-build-process/"},"frontmatter":{"title":"Making a game with React and Redux: 02 Plan, Define, Build Process"}},"next":null}}